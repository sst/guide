---
layout: post
title: Getting Production Ready
date: 2021-08-24 00:00:00
lang: en
description: To get our full-stack serverless app ready for production, we want to use a custom domain and to automate our deployments.
ref: getting-production-ready
comments_id: getting-production-ready/158
---

Now that we've gone through the basics of creating a full-stack serverless app, you are ready to deploy it to production.

### Deploy to Prod

We are now going to deploy our app to prod. You can go ahead and stop the local development environments for SST and React.

{%change%} Run the following **in your project root**.

```bash
$ npx sst deploy --stage production
```

This command will take a few minutes as it'll deploy your app to a completely new environment. Recall that we are deploying to a separate prod environment because we don't want to affect our users while we are actively developing our app. This ensures that we have a separate local dev environment and a separate prod environment.

{%info%}
The `production` name that we are using is arbitrary. We can call it `prod` or `live`. SST just uses the string internally to create a new version of your app.
{%endinfo%}

At the end of the deploy process you should see something like this.

```bash
+  Complete
   Api: https://7qdwu0iuga.execute-api.us-east-1.amazonaws.com
   Frontend: https://d1wyq16hczgtjw.cloudfront.net
   ...
```

### Set Secrets in Prod

We also need to configure out secrets for production. You'll recall we had previously [configured secrets for our local stage]({% link _chapters/handling-secrets-in-sst.md %}).

We'll do the same here but for `production`.

{%change%} Run the following **in your project root**.

```bash
$ npx sst secret set --stage production StripeSecretKey <YOUR_STRIPE_SECRET_TEST_KEY>
```

{%note%}
For this guide we are using the same Stripe secret key in production but you'll likely be using different values in production.
{%endnote%}

You can run `npx sst secret list --stage production` to see the secrets for prod.

Our full-stack serverless app is almost ready to go. You can play around with the prod version.

### Custom Domains

However the API is currently on an endpoint that's auto-generated by [API Gateway](https://aws.amazon.com/api-gateway/).

``` txt
https://5bv7x0iuga.execute-api.us-east-1.amazonaws.com
```

And the frontend React app is hosted on an auto-generated [CloudFront](https://aws.amazon.com/cloudfront/) domain.

``` txt
https://d3j4c16hczgtjw.cloudfront.net
```

We want to host these on our own domain. Let's look at that next.
